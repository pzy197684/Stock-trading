# Stock-Trading é¡¹ç›®ç›®å½•ç»“æ„

## ğŸ“ é¡¹ç›®æ ¹ç›®å½•
```
Stock-trading/
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ start-trading.bat           # å®Œæ•´ç‰ˆå¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“„ start-trading-2.bat         # ç®€åŒ–ç‰ˆå¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“„ å¯åŠ¨åŸç†.md                  # å¯åŠ¨åŸç†è¯´æ˜
â”œâ”€â”€ ğŸ“„ .gitignore                  # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ ğŸ“„ .gitattributes              # Gitå±æ€§é…ç½®
â””â”€â”€ ğŸ“„ .vscodeignore               # VS Codeå¿½ç•¥æ–‡ä»¶é…ç½®
```

## ğŸ”§ å¼€å‘é…ç½®
```
.vscode/
â”œâ”€â”€ ğŸ“„ settings.json               # VS Codeè®¾ç½®
â””â”€â”€ ğŸ“„ tasks.json                  # VS Codeä»»åŠ¡é…ç½®
```

## ğŸ¦ äº¤æ˜“è´¦æˆ·é…ç½®
```
accounts/
â”œâ”€â”€ BINANCE/                       # å¸å®‰äº¤æ˜“æ‰€è´¦æˆ·
â”‚   â”œâ”€â”€ BN0001/
â”‚   â”œâ”€â”€ BN0002/
â”‚   â”œâ”€â”€ BN1602/
â”‚   â”‚   â””â”€â”€ ğŸ“„ binance_api.json
â”‚   â”œâ”€â”€ BN2055/
â”‚   â”‚   â””â”€â”€ ğŸ“„ binance_api.json
â”‚   â””â”€â”€ BN8891/
â”‚       â””â”€â”€ ğŸ“„ binance_api.json
â”œâ”€â”€ COINW/                         # COINWäº¤æ˜“æ‰€è´¦æˆ·
â”‚   â”œâ”€â”€ CW0001/
â”‚   â”œâ”€â”€ CW0002/
â”‚   â”œâ”€â”€ CW1602/
â”‚   â”‚   â””â”€â”€ ğŸ“„ coinw_api.json
â”‚   â””â”€â”€ CW8891/
â”œâ”€â”€ DEEP/                          # DEEPäº¤æ˜“æ‰€è´¦æˆ·
â”‚   â”œâ”€â”€ DC0001/
â”‚   â”œâ”€â”€ DC0002/
â”‚   â”œâ”€â”€ DC1602/
â”‚   â””â”€â”€ DC8891/
â””â”€â”€ OKX/                           # OKXäº¤æ˜“æ‰€è´¦æˆ·
    â”œâ”€â”€ OK0001/
    â”œâ”€â”€ OK0002/
    â”œâ”€â”€ OK1602/
    â”œâ”€â”€ OK8891/
    â””â”€â”€ OKX8891/
        â””â”€â”€ ğŸ“„ okx_api.json
```

## ğŸš€ åº”ç”¨ç¨‹åº
```
apps/
â”œâ”€â”€ api/                           # åç«¯APIæœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“„ main.py                 # APIä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ ğŸ“„ requirements.txt        # Pythonä¾èµ–åŒ…
â”‚   â””â”€â”€ venv/                      # Pythonè™šæ‹Ÿç¯å¢ƒ
â”‚       â”œâ”€â”€ ğŸ“„ pyvenv.cfg
â”‚       â”œâ”€â”€ Include/
â”‚       â”œâ”€â”€ Lib/
â”‚       â”‚   â””â”€â”€ site-packages/     # å®‰è£…çš„PythonåŒ…
â”‚       â””â”€â”€ Scripts/
â”‚           â””â”€â”€ ğŸ“„ python.exe      # Pythonè§£é‡Šå™¨
â””â”€â”€ ui/                            # å‰ç«¯ç”¨æˆ·ç•Œé¢
    â”œâ”€â”€ ğŸ“„ package.json            # Node.jsé¡¹ç›®é…ç½®
    â”œâ”€â”€ ğŸ“„ tsconfig.json           # TypeScripté…ç½®
    â”œâ”€â”€ ğŸ“„ vite.config.ts          # Viteæ„å»ºé…ç½®
    â”œâ”€â”€ ğŸ“„ index.html              # ä¸»é¡µé¢æ¨¡æ¿
    â”œâ”€â”€ public/                    # é™æ€èµ„æº
    â”œâ”€â”€ src/                       # æºä»£ç 
    â”‚   â”œâ”€â”€ ğŸ“„ main.tsx            # å‰ç«¯ä¸»å…¥å£
    â”‚   â”œâ”€â”€ ğŸ“„ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶
    â”‚   â”œâ”€â”€ contexts/              # Reactä¸Šä¸‹æ–‡
    â”‚   â”‚   â””â”€â”€ ğŸ“„ ApiContext.tsx  # APIä¸Šä¸‹æ–‡
    â”‚   â”œâ”€â”€ components/            # Reactç»„ä»¶
    â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶
    â”‚   â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°
    â””â”€â”€ node_modules/              # Node.jsä¾èµ–åŒ…
```

## âš™ï¸ æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
```
core/
â”œâ”€â”€ ğŸ“„ config_live.py             # å®æ—¶é…ç½®
â”œâ”€â”€ ğŸ“„ config_loader.py           # é…ç½®åŠ è½½å™¨
â”œâ”€â”€ ğŸ“„ event_bus.py               # äº‹ä»¶æ€»çº¿
â”œâ”€â”€ ğŸ“„ logger.py                  # æ—¥å¿—ç³»ç»Ÿ
â”œâ”€â”€ ğŸ“„ state_store.py             # çŠ¶æ€å­˜å‚¨
â”œâ”€â”€ ğŸ“„ websocket_logger.py        # WebSocketæ—¥å¿—
â”œâ”€â”€ config/                       # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ ğŸ“„ defaults.json          # é»˜è®¤é…ç½®
â”œâ”€â”€ domain/                       # é¢†åŸŸæ¨¡å‹
â”‚   â”œâ”€â”€ ğŸ“„ enums.py               # æšä¸¾å®šä¹‰
â”‚   â””â”€â”€ ğŸ“„ models.py              # æ•°æ®æ¨¡å‹
â”œâ”€â”€ execute/                      # æ‰§è¡Œå¼•æ“
â”‚   â”œâ”€â”€ ğŸ“„ strategy_engine.py     # ç­–ç•¥å¼•æ“
â”‚   â””â”€â”€ ğŸ“„ strategy_executor.py   # ç­–ç•¥æ‰§è¡Œå™¨
â”œâ”€â”€ managers/                     # ç®¡ç†å™¨
â”‚   â”œâ”€â”€ ğŸ“„ account_manager.py     # è´¦æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“„ platform_manager.py   # å¹³å°ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“„ state_manager.py      # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ ğŸ“„ strategy_manager.py   # ç­–ç•¥ç®¡ç†
â”œâ”€â”€ platform/                    # äº¤æ˜“å¹³å°
â”‚   â”œâ”€â”€ ğŸ“„ base.py               # åŸºç¡€å¹³å°ç±»
â”‚   â”œâ”€â”€ ğŸ“„ binance.py            # å¸å®‰å¹³å°
â”‚   â”œâ”€â”€ ğŸ“„ coinw.py              # COINWå¹³å°
â”‚   â”œâ”€â”€ ğŸ“„ okx.py                # OKXå¹³å°
â”‚   â””â”€â”€ ğŸ“„ capabilities.py       # å¹³å°èƒ½åŠ›å®šä¹‰
â”œâ”€â”€ services/                    # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“„ calc.py               # è®¡ç®—æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“„ hedge_service.py      # å¯¹å†²æœåŠ¡
â”‚   â””â”€â”€ ...                      # å…¶ä»–æœåŠ¡
â”œâ”€â”€ strategy/                    # äº¤æ˜“ç­–ç•¥
â”‚   â”œâ”€â”€ ğŸ“„ base.py               # åŸºç¡€ç­–ç•¥ç±»
â”‚   â””â”€â”€ martingale_hedge/        # é©¬ä¸æ ¼å°”å¯¹å†²ç­–ç•¥
â”‚       â”œâ”€â”€ ğŸ“„ strategy.py       # ç­–ç•¥å®ç°
â”‚       â”œâ”€â”€ ğŸ“„ executor.py       # ç­–ç•¥æ‰§è¡Œå™¨
â”‚       â””â”€â”€ adapters/            # å¹³å°é€‚é…å™¨
â””â”€â”€ utils/                       # å·¥å…·å‡½æ•°
    â”œâ”€â”€ ğŸ“„ decimal_ext.py        # ç²¾åº¦æ‰©å±•
    â”œâ”€â”€ ğŸ“„ error_codes.py        # é”™è¯¯ç å®šä¹‰
    â””â”€â”€ ğŸ“„ plugin_loader.py      # æ’ä»¶åŠ è½½å™¨
```

## ğŸ“Š æ•°æ®å­˜å‚¨
```
logs/                             # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ error.log                 # é”™è¯¯æ—¥å¿—
â”œâ”€â”€ ğŸ“„ runtime.log               # è¿è¡Œæ—¶æ—¥å¿—
â””â”€â”€ ğŸ“„ trade.log                 # äº¤æ˜“æ—¥å¿—

state/                           # çŠ¶æ€æ•°æ®
â”œâ”€â”€ BN1602/                      # è´¦æˆ·çŠ¶æ€
â”œâ”€â”€ BN2055/
â”œâ”€â”€ MARTINGALE_HEDGE_1_*/        # ç­–ç•¥å®ä¾‹çŠ¶æ€
â”œâ”€â”€ MARTINGALE_HEDGE_2_*/
â””â”€â”€ ...

profiles/                        # é…ç½®æ–‡ä»¶
â”œâ”€â”€ _shared_defaults/            # å…±äº«é»˜è®¤é…ç½®
â”œâ”€â”€ BINANCE/                     # å¸å®‰å¹³å°é…ç½®
â”œâ”€â”€ COINW/                       # COINWå¹³å°é…ç½®
â”œâ”€â”€ DEEP/                        # DEEPå¹³å°é…ç½®
â””â”€â”€ OKX/                         # OKXå¹³å°é…ç½®
```

## ğŸ§ª æµ‹è¯•
```
tests/                           # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ ...                          # å„ç§æµ‹è¯•ç”¨ä¾‹
```

## ğŸ“‹ é¡¹ç›®ç‰¹ç‚¹

### ğŸ—ï¸ æ¶æ„è®¾è®¡
- **å¾®æœåŠ¡æ¶æ„**: APIåç«¯ + Reactå‰ç«¯åˆ†ç¦»
- **æ¨¡å—åŒ–è®¾è®¡**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘é«˜åº¦æ¨¡å—åŒ–
- **æ’ä»¶åŒ–æ‰©å±•**: æ”¯æŒå¤šäº¤æ˜“å¹³å°æ’ä»¶

### ğŸ”„ æ•°æ®æµ
1. **å‰ç«¯ç•Œé¢** â†” **APIæœåŠ¡** â†” **æ ¸å¿ƒå¼•æ“**
2. **ç­–ç•¥å¼•æ“** â†” **äº¤æ˜“å¹³å°** â†” **å¸‚åœºæ•°æ®**
3. **çŠ¶æ€ç®¡ç†** â†” **æ—¥å¿—ç³»ç»Ÿ** â†” **æ–‡ä»¶å­˜å‚¨**

### ğŸš€ å¯åŠ¨æ–¹å¼
- **å®Œæ•´ç‰ˆ**: `start-trading.bat` (åŒ…å«ç¯å¢ƒæ£€æŸ¥)
- **ç®€åŒ–ç‰ˆ**: `start-trading-2.bat` (å¿«é€Ÿå¯åŠ¨)
- **å¼€å‘ç‰ˆ**: åˆ†åˆ«å¯åŠ¨APIå’ŒUIæœåŠ¡

### ğŸ”— æœåŠ¡ç«¯å£
- **å‰ç«¯ç•Œé¢**: http://localhost:3001
- **APIæœåŠ¡**: http://localhost:8001
- **APIæ–‡æ¡£**: http://localhost:8001/docs


| Path | Purpose |
|------|---------|
| `README.md` | é¡¹ç›®æ–‡æ¡£å’Œå®‰è£…è¯´æ˜ |
| `apps/ui/package.json` | å‰ç«¯é¡¹ç›®é…ç½®ã€ä¾èµ–åŒ…å’Œæ„å»ºè„šæœ¬ |
| `apps/ui/tsconfig.json` | å‰ç«¯åº”ç”¨çš„TypeScriptç¼–è¯‘é…ç½® |
| `apps/ui/vite.config.ts` | Viteæ„å»ºå·¥å…·çš„å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒé…ç½® |
| `apps/ui/index.html` | Reactåº”ç”¨çš„ä¸»HTMLæ¨¡æ¿æ–‡ä»¶ |
| `apps/ui/src/main.tsx` | å‰ç«¯åº”ç”¨å…¥å£ç‚¹å’ŒReactæŒ‚è½½æ–‡ä»¶ |
| `apps/ui/src/App.tsx` | æ ¹Reactç»„ä»¶ï¼ŒåŒ…å«è·¯ç”±å’Œå¸ƒå±€ç»“æ„ |
| `apps/ui/src/contexts/ApiContext.tsx` | APIé€šä¿¡å’ŒçŠ¶æ€ç®¡ç†çš„Reactä¸Šä¸‹æ–‡ |
| `apps/ui/src/components/**` | å¯å¤ç”¨çš„React UIç»„ä»¶ç›®å½• |
| `apps/ui/src/hooks/**` | è‡ªå®šä¹‰Reacté’©å­å’Œå…±äº«é€»è¾‘ |
| `apps/ui/src/services/**` | APIæœåŠ¡å±‚å’Œå¤–éƒ¨é›†æˆæ¥å£ |
| `apps/ui/src/utils/**` | å·¥å…·å‡½æ•°å’Œè¾…åŠ©æ–¹æ³•é›†åˆ |
| `apps/api/main.py` | åç«¯APIæœåŠ¡å™¨çš„FastAPIå…¥å£ç‚¹ |
| `apps/api/requirements.txt` | åç«¯æœåŠ¡çš„Pythonä¾èµ–åŒ…åˆ—è¡¨ |
| `core/config_loader.py` | é…ç½®ç®¡ç†å’ŒåŠ è½½ç³»ç»Ÿ |
| `core/logger.py` | åº”ç”¨ç¨‹åºçš„é›†ä¸­æ—¥å¿—ç³»ç»Ÿ |
| `core/state_store.py` | åº”ç”¨çŠ¶æ€æŒä¹…åŒ–å’Œç®¡ç† |
| `core/strategy_engine.py` | æ ¸å¿ƒäº¤æ˜“ç­–ç•¥æ‰§è¡Œå¼•æ“ |
| `core/platform/base.py` | äº¤æ˜“å¹³å°é›†æˆçš„åŸºç¡€ç±» |
| `core/domain/models.py` | æ•°æ®æ¨¡å‹å’Œé¢†åŸŸå®ä½“å®šä¹‰ |
| `accounts/**/api.json` | äº¤æ˜“å¹³å°APIå‡­è¯å’Œé…ç½®æ–‡ä»¶ |