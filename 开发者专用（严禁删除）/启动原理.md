 启动原理详解
1. 环境检查阶段 (Environment Check)
🔍 检查Python虚拟环境

检查 python.exe 是否存在
确保API服务器有独立的Python环境
避免与系统Python冲突
🔍 检查Node.js环境

使用 where 命令查找Node.js
重定向输出避免显示路径信息
检查错误级别判断是否安装
2. 依赖安装阶段 (Install Dependencies)
📦 前端依赖检查与安装

检查 node_modules 文件夹是否存在
自动切换到前端目录
执行 npm install 安装依赖
返回根目录
3. 进程清理阶段 (Clean Processes)
🧹 清理冲突进程

/f 强制终止进程
/im 指定镜像名称（进程名）
>nul 2>&1 隐藏输出信息
清理可能占用端口的旧进程
4. 服务启动阶段 (Starting Services)
🚀 启动API服务器

启动参数解析：

start "API-Server" - 在新窗口启动，窗口名为"API-Server"
cmd /c - 执行命令后保持窗口
title API-Server - 设置窗口标题
python.exe - 使用虚拟环境的Python
main.py - 启动FastAPI应用
&& pause - 服务停止后暂停窗口
🌐 启动前端服务器

启动参数解析：

切换到 ui 目录
启动新窗口运行Vite开发服务器
npm run dev 执行开发模式
返回根目录
🔄 服务启动流程图
🌐 端口分配
服务	端口	协议	用途
API服务器	8001	HTTP	RESTful API接口
前端服务器	3001	HTTP	React开发服务器
WebSocket	8001	WS	实时日志传输
🎯 启动后的服务访问
前端界面: http://localhost:3001
API文档: http://localhost:8001/docs
API健康检查: http://localhost:8001/health
WebSocket日志: ws://localhost:8001/ws/logs
🛠️ 故障排除
常见问题与解决方案：

Python虚拟环境不存在

Node.js未安装

下载安装：https://nodejs.org
端口被占用

脚本会自动清理，或手动重启脚本
权限问题

以管理员身份运行
现在您的启动脚本已经完全修复，可以一键启动整个交易系统！