# è‚¡ç¥¨äº¤æ˜“ç³»ç»Ÿ - å®Œæ•´å¯åŠ¨æŒ‡å—

## ğŸ¯ ç³»ç»Ÿæ¦‚è§ˆ

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„è‚¡ç¥¨äº¤æ˜“ç³»ç»Ÿï¼ŒåŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š
- **åç«¯APIæœåŠ¡å™¨** (Python FastAPI)
- **å‰ç«¯ç•Œé¢** (React + TypeScript + Vite)
- **WebSocketå®æ—¶æ—¥å¿—ç³»ç»Ÿ**
- **ç­–ç•¥æ‰§è¡Œå¼•æ“**
- **å¤šå¹³å°äº¤æ˜“æ”¯æŒ** (Binanceã€OKXã€COINWç­‰)

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
```batch
start-trading.bat
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. âœ… æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ
2. âœ… æ¸…ç†ä¹‹å‰çš„è¿›ç¨‹
3. âœ… å¯åŠ¨APIæœåŠ¡å™¨
4. âœ… å¯åŠ¨å‰ç«¯ç•Œé¢
5. âœ… æä¾›ç®¡ç†é€‰é¡¹

### å…¶ä»–å¯åŠ¨é€‰é¡¹

#### åˆ†åˆ«å¯åŠ¨æœåŠ¡
```batch
# å¯åŠ¨APIæœåŠ¡å™¨
start-api-stable.bat

# å¯åŠ¨å‰ç«¯ï¼ˆåœ¨å¦ä¸€ä¸ªç»ˆç«¯ï¼‰
cd apps\ui
npm run dev
```

#### æ‰‹åŠ¨å¯åŠ¨
```batch
# APIæœåŠ¡å™¨
apps\api\venv\Scripts\python.exe apps\api\main.py

# å‰ç«¯æœåŠ¡å™¨
cd apps\ui && npm run dev
```

## ğŸ› ï¸ ç®¡ç†å·¥å…·

### ç³»ç»Ÿæ§åˆ¶
- `start-trading.bat` - å®Œæ•´ç³»ç»Ÿå¯åŠ¨
- `stop-trading.bat` - ä¼˜é›…åœæ­¢æ‰€æœ‰æœåŠ¡
- `health-check.bat` - å…¨é¢å¥åº·æ£€æŸ¥

### æœåŠ¡å™¨å¯åŠ¨è„šæœ¬
- `start-api-stable.bat` - ç¨³å®šç‰ˆAPIå¯åŠ¨
- `start-api-simple.bat` - ç®€åŒ–ç‰ˆAPIå¯åŠ¨

## ğŸ“Š è®¿é—®åœ°å€

### ä¸»è¦æœåŠ¡
- **å‰ç«¯ç•Œé¢**: http://localhost:3001
- **APIæœåŠ¡å™¨**: http://localhost:8001
- **APIæ–‡æ¡£**: http://localhost:8001/docs

### ç›‘æ§å·¥å…·
- **WebSocketæµ‹è¯•**: http://localhost:8001/websocket-test.html
- **ç³»ç»ŸçŠ¶æ€**: http://localhost:8001/api/logs/websocket/status
- **å¥åº·æ£€æŸ¥**: http://localhost:8001/api/health

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç«¯å£è¢«å ç”¨
```batch
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :8001
netstat -ano | findstr :3001

# æ¸…ç†è¿›ç¨‹
taskkill /f /im python.exe
taskkill /f /im node.exe
```

#### 2. WebSocketè¿æ¥é—®é¢˜
```batch
# æ£€æŸ¥WebSocketçŠ¶æ€
powershell -Command "Invoke-RestMethod -Uri 'http://localhost:8001/api/logs/websocket/status'"

# æ¸…ç†WebSocketè¿æ¥
powershell -Command "Invoke-RestMethod -Uri 'http://localhost:8001/api/logs/websocket/cleanup' -Method POST"
```

#### 3. å‰ç«¯ä¾èµ–é—®é¢˜
```batch
cd apps\ui
npm install
```

#### 4. Pythonç¯å¢ƒé—®é¢˜
```batch
# é‡æ–°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv apps\api\venv
apps\api\venv\Scripts\pip install -r apps\api\requirements.txt
```

### æ—¥å¿—æŸ¥çœ‹
- **è¿è¡Œæ—¥å¿—**: `logs\runtime.log`
- **äº¤æ˜“æ—¥å¿—**: `logs\trade.log`
- **é”™è¯¯æ—¥å¿—**: `logs\error.log`

## ğŸ“‹ ç³»ç»Ÿæ£€æŸ¥æ¸…å•

è¿è¡Œ `health-check.bat` ä¼šæ£€æŸ¥ï¼š
- âœ… APIæœåŠ¡å™¨çŠ¶æ€
- âœ… å‰ç«¯æœåŠ¡å™¨çŠ¶æ€  
- âœ… WebSocketè¿æ¥çŠ¶æ€
- âœ… ç«¯å£å ç”¨æƒ…å†µ
- âœ… è¿›ç¨‹è¿è¡ŒçŠ¶æ€
- âœ… ç­–ç•¥å®ä¾‹çŠ¶æ€
- âœ… æ—¥å¿—ç³»ç»ŸçŠ¶æ€
- âœ… ç³»ç»Ÿèµ„æºä½¿ç”¨
- âœ… é…ç½®æ–‡ä»¶å®‰å…¨

## ğŸ”’ å®‰å…¨è®¾ç½®

### è‡ªåŠ¨äº¤æ˜“ä¿æŠ¤
ç³»ç»Ÿé»˜è®¤é…ç½®äº†å¤šé‡å®‰å…¨ä¿æŠ¤ï¼š
- éœ€è¦æ‰‹åŠ¨å¯åŠ¨ç­–ç•¥
- è‡ªåŠ¨äº¤æ˜“åŠŸèƒ½éœ€è¦æ˜ç¡®å¯ç”¨
- é£é™©æ§åˆ¶å‚æ•°é™åˆ¶
- ç´§æ€¥åœæ­¢æœºåˆ¶

### é…ç½®æ–‡ä»¶æ£€æŸ¥
å¥åº·æ£€æŸ¥ä¼šéªŒè¯ï¼š
- `autoTrade` è®¾ç½®
- `require_manual_start` é…ç½®
- é£é™©æ§åˆ¶å‚æ•°

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

### WebSocketè¿æ¥ç›‘æ§
- æœ€å¤§è¿æ¥æ•°: 50
- å¿ƒè·³é—´éš”: 60ç§’
- è‡ªåŠ¨æ¸…ç†: æ¯5åˆ†é’Ÿ
- è¿æ¥è´¨é‡æ£€æŸ¥

### ç³»ç»Ÿèµ„æº
- CPUä½¿ç”¨ç›‘æ§
- å†…å­˜ä½¿ç”¨æ£€æŸ¥
- æ—¥å¿—æ–‡ä»¶å¤§å°
- è¿›ç¨‹çŠ¶æ€è·Ÿè¸ª

## ğŸ›ï¸ é«˜çº§åŠŸèƒ½

### APIæ¥å£
- REST APIæ–‡æ¡£: `/docs`
- WebSocketæ—¥å¿—: `/ws/logs`
- å¥åº·æ£€æŸ¥: `/api/health`
- çŠ¶æ€ç›‘æ§: `/api/logs/websocket/status`

### å¼€å‘å·¥å…·
- çƒ­é‡è½½å‰ç«¯å¼€å‘
- å®æ—¶æ—¥å¿—ç›‘æ§
- WebSocketè¿æ¥æµ‹è¯•
- APIè°ƒè¯•ç•Œé¢

## ğŸ’¡ æœ€ä½³å®è·µ

### æ—¥å¸¸ä½¿ç”¨
1. ä½¿ç”¨ `start-trading.bat` å¯åŠ¨ç³»ç»Ÿ
2. å®šæœŸè¿è¡Œ `health-check.bat` æ£€æŸ¥çŠ¶æ€
3. ç›‘æ§æ—¥å¿—æ–‡ä»¶å¤§å°
4. åŠæ—¶å¤„ç†å¼‚å¸¸è¿æ¥

### ç»´æŠ¤å»ºè®®
1. å®šæœŸæ¸…ç†æ—¥å¿—æ–‡ä»¶
2. ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨
3. æ›´æ–°ä¾èµ–åŒ…ç‰ˆæœ¬
4. å¤‡ä»½é‡è¦é…ç½®æ–‡ä»¶

### å®‰å…¨å»ºè®®
1. å®šæœŸæ£€æŸ¥é…ç½®æ–‡ä»¶
2. ç›‘æ§è‡ªåŠ¨äº¤æ˜“è®¾ç½®
3. å¯ç”¨é£é™©æ§åˆ¶å‚æ•°
4. ä½¿ç”¨æ‰‹åŠ¨å¯åŠ¨æ¨¡å¼

---

## ğŸ‰ ç°åœ¨å¼€å§‹

æ¨èä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¼€å§‹ï¼š

```batch
start-trading.bat
```

ç³»ç»Ÿå¯åŠ¨åï¼Œé€‰æ‹© `[1] æ‰“å¼€äº¤æ˜“ç³»ç»Ÿå‰ç«¯` å³å¯å¼€å§‹ä½¿ç”¨ï¼